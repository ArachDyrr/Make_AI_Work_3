A1_1 = 8*2 + 0*1 + 2*3 + 4*0 + 6*1 + 0*-1 + 2*3 + 4*0 + 1*4
A1_2 = 4*2 + 6*1 + 0*3 + 2*0 + 4*1 + 1*-1 + 3*3 + 3*0 + 3*4
A1_3 = 2*2 + 4*1 + 1*3 + 3*0 + 3*1 + 3*-1 + 9*3 + 7*0 + 5*4
A1_4 = 3*2 + 3*1 + 3*3 + 9*0 + 7*1 + 5*-1 + 1*3 + 10*0 + 8*4

A2_1 = 0*2 + 2*1 + 6*3 + 6*0 + 0*1 + 3*-1 + 4*3 + 1*0 + 1*4
A2_2 = 6*2 + 0*1 + 3*3 + 4*0 + 1*1 + 1*-1 + 3*3 + 3*0 + 4*4
A2_3 = 4*2 + 1*1 + 1*3 + 3*0 + 3*1 + 4*-1 + 7*3 + 5*0 + 8*4
A2_4 = 3*2 + 3*1 + 4*3 + 7*0 + 5*1 + 8*-1 + 10*3 + 8*0 + 2*4  

A3_1 = 2*2 + 6*1 + 0*3 + 0*0 + 3*1 + 2*-1 + 1*3 + 1*0 + 4*4
A3_2 = 0*2 + 3*1 + 2*3 + 1*0 + 1*1 + 4*-1 + 3*3 + 4*0 + 3*4
A3_3 = 1*2 + 1*1 + 4*3 + 3*0 + 4*1 + 3*-1 + 5*3 + 8*0 + 5*4
A3_4 = 3*2 + 4*1 + 3*3 + 5*0 + 8*1 + 5*-1 + 8*3 + 2*0 + 9*4

A4_1 = 6*2 + 0*1 + 2*3 + 3*0 + 2*1 + 7*-1 + 1*3 + 4*0 + 9*4
A4_2 = 3*2 + 2*1 + 7*3 + 1*0 + 4*1 + 9*-1 + 4*3 + 3*0 + 1*4
A4_3 = 1*2 + 4*1 + 9*3 + 4*0 + 3*1 + 1*-1 + 8*3 + 5*0 + 3*4
A4_4 = 4*2 + 3*1 + 1*3 + 8*0 + 4*1 + 3*-1 + 2*3 + 9*0 + 5*4



print('after 1 convolution') 
print(A1_1, A1_2, A1_3, A1_4)
print(A2_1, A2_2, A2_3, A2_4)
print(A3_1, A3_2, A3_3, A3_4)
print(A4_1, A4_2, A4_3, A4_4)

Amax1_1 = A1_1+A1_2+A2_1+A2_2
Amax1_2 = A1_3+A1_4+A2_3+A2_4
Amax2_1 = A3_1+A3_2+A4_1+A4_2
Amax2_2 = A3_3+A3_4+A4_3+A4_4
print()
print('after maxpool (2,2)')
print(Amax1_1, Amax1_2)
print(Amax2_1, Amax2_2)